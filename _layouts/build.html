---
layout: default
---
<article class="build-log">

  <!-- Build Navigation Bar -->
  <nav class="build-nav-bar">
    <div class="nav-buttons">
      {% if page.project %}
      <a href="{{ page.project | relative_url }}" class="nav-btn nav-btn-back">← Project Overview</a>
      {% else %}
      <a href="{{ '/builds/' | relative_url }}" class="nav-btn nav-btn-back">← All Builds</a>
      {% endif %}
      
      {% if page.build_log_menu %}
      <div class="build-selector">
        <button class="nav-btn nav-btn-dropdown" id="buildMenuToggle">
          <span>Build Steps</span>
          <svg class="dropdown-icon" width="12" height="8" viewBox="0 0 12 8" fill="currentColor">
            <path d="M1.41 0L6 4.58L10.59 0L12 1.41L6 7.41L0 1.41L1.41 0Z"/>
          </svg>
        </button>
        <div class="build-dropdown-menu" id="buildMenu">
          {% for item in page.build_log_menu %}
          <a href="{{ item.url | relative_url }}" class="build-menu-item {% if page.url == item.url %}active{% endif %}">
            <span class="build-number">{{ item.number }}</span>
            <span class="build-step-title">{{ item.title }}</span>
          </a>
          {% endfor %}
        </div>
      </div>
      {% endif %}
      
      <div class="nav-spacer"></div>
      
      {% if page.previous_step %}
      <a href="{{ page.previous_step | relative_url }}" class="nav-btn nav-btn-prev" title="Previous build step">← Prev</a>
      {% endif %}
      {% if page.next_step %}
      <a href="{{ page.next_step | relative_url }}" class="nav-btn nav-btn-next" title="Next build step">Next →</a>
      {% endif %}
    </div>
  </nav>

  <header class="build-header">
    <h1 class="build-title">{{ page.title | escape }}</h1>
    
    <div class="build-meta">
      <time datetime="{{ page.date | date_to_xmlschema }}">
        {{ page.date | date: "%B %-d, %Y" }}
      </time>
      {% if page.project %}
        • Part of: <a href="{{ page.project | relative_url }}">{{ page.project_name }}</a>
      {% endif %}
      {% if page.step %}<span class="step-badge">Step {{ page.step }}</span>{% endif %}
    </div>
  </header>

  {% if page.progress_images %}
  <div class="progress-images">
    {% for image in page.progress_images %}
    <figure class="progress-image">
      <img src="{{ image.path | relative_url }}" alt="{{ image.caption }}" loading="lazy">
      <figcaption>{{ image.caption }}</figcaption>
    </figure>
    {% endfor %}
  </div>
  {% endif %}

  <div class="build-content">
    {{ content }}
  </div>

  {% if page.materials or page.tools %}
  <aside class="build-resources">
    {% if page.materials %}
    <div class="materials">
      <h3>Materials Used</h3>
      <ul>
        {% for material in page.materials %}
        <li>{{ material }}</li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}
    
    {% if page.tools %}
    <div class="tools">
      <h3>Tools Used</h3>
      <ul>
        {% for tool in page.tools %}
        <li>{{ tool }}</li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}
  </aside>
  {% endif %}

  {% if page.comments %}
    {% include comments.html %}
  {% endif %}

  <!-- Bottom Navigation -->
  <footer class="build-footer">
    <nav class="build-bottom-nav">
      {% if page.previous_step %}
        <a href="{{ page.previous_step | relative_url }}" class="nav-btn nav-btn-secondary nav-btn-wide">
          <span class="nav-direction">← Previous</span>
          <span class="nav-label">{{ page.previous_step_title }}</span>
        </a>
      {% else %}
        <div class="nav-spacer"></div>
      {% endif %}
      
      {% if page.project %}
      <a href="{{ page.project | relative_url }}" class="nav-btn nav-btn-tertiary">Project Overview</a>
      {% endif %}
      
      {% if page.next_step %}
        <a href="{{ page.next_step | relative_url }}" class="nav-btn nav-btn-primary nav-btn-wide">
          <span class="nav-direction">Next →</span>
          <span class="nav-label">{{ page.next_step_title }}</span>
        </a>
      {% else %}
        <div class="nav-spacer"></div>
      {% endif %}
    </nav>
  </footer>

</article>

<script>
// Dropdown menu functionality
document.addEventListener('DOMContentLoaded', function() {
  const toggle = document.getElementById('buildMenuToggle');
  const menu = document.getElementById('buildMenu');
  
  if (toggle && menu) {
    toggle.addEventListener('click', function(e) {
      e.stopPropagation();
      menu.classList.toggle('show');
      toggle.classList.toggle('active');
    });
    
    // Close dropdown when clicking outside
    document.addEventListener('click', function() {
      menu.classList.remove('show');
      toggle.classList.remove('active');
    });
    
    // Prevent dropdown from closing when clicking inside menu
    menu.addEventListener('click', function(e) {
      e.stopPropagation();
    });
  }
});
</script>
