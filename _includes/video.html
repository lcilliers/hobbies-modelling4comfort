{% comment %}
  Include a video player
  Usage: {% include video.html src="path/to/video.mp4" poster="path/to/poster.jpg" caption="Optional caption" %}
  For YouTube: {% include video.html youtube="VIDEO_ID" caption="Optional caption" %}
{% endcomment %}
<figure class="video-figure">
  {% if include.youtube %}
  <div class="video-container">
    <iframe 
      src="https://www.youtube.com/embed/{{ include.youtube }}" 
      title="{{ include.caption | default: 'Video' }}"
      frameborder="0" 
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
      allowfullscreen>
    </iframe>
  </div>
  {% else %}
  <video controls {% if include.poster %}poster="{{ include.poster | relative_url }}"{% endif %}>
    <source src="{{ include.src | relative_url }}" type="video/mp4">
    Your browser does not support the video tag.
  </video>
  {% endif %}
  {% if include.caption %}
  <figcaption>{{ include.caption }}</figcaption>
  {% endif %}
</figure>
